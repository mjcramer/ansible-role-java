---
# - name: create hosts for role test
#   hosts: localhost
#   gather_facts: no
#   connection: local

#   tasks:
#     - name: wait for ssh on instances
#       wait_for:
#         delay: 1
#         host: "{{ droplet.data.ip_address }}"
#         port: 22
#         state: started
#         timeout: 60

- name: apply role to instance
  hosts: java_hosts
  
  roles:
    - role: ../../ansible-role-java
      become: yes

  tasks:
    - debug:
        var: java_home
